import{a as S,b as L,c as E}from"./chunk-5GXB6FTE.js";import{a as T}from"./chunk-CJ7HB2ZO.js";import{b as k,c as x,d as P}from"./chunk-MCTTQI2R.js";import{S as _,V as y,i as I,k as M,ra as D,s as O,t as C}from"./chunk-FMDUR5PZ.js";import{$a as s,Hb as g,Oa as v,Wb as n,Xb as h,Y as r,na as f,ob as u,pb as j,ub as a,vb as c,wb as d,xb as l,yb as m}from"./chunk-2KWEBWT5.js";var p=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-associated-risks"]],decls:2,vars:0,template:function(e,o){e&1&&(l(0,"p"),n(1,"associated-risks works!"),m())},encapsulation:2})};var b=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-performance-indicators"]],decls:2,vars:0,template:function(e,o){e&1&&(l(0,"p"),n(1,"performance-indicators works!"),m())},encapsulation:2})};function F(t,i){t&1&&d(0,"mat-progress-bar",0)}var A=class t{route=r(I);router=r(M);dataService=r(k);logger=r(D);app=r(T);objectiveId=0;objective=null;isLoading=f(!1,{});onTabChange=i=>{this.logger.debugLog("Tab changed",{index:i})};async ngOnInit(){this.objectiveId=parseInt(this.route.snapshot.paramMap.get("id")||"0",10),this.isLoading.set(!0);try{await this.dataService.initializeCache(),this.objective=this.dataService.selectObjective(this.objectiveId),this.objective?(this.route.snapshot.data.breadcrumb=this.objective.Title,this.app.refreshBreadcrumbs(),this.logger.debugLog("Objective detail loaded",{objectiveId:this.objectiveId,title:this.objective.Title,selectedObjective:this.objective})):this.logger.debugLog("Objective not found",{objectiveId:this.objectiveId})}catch(i){this.logger.debugLog("Error loading objective detail",i)}finally{this.isLoading.set(!1)}}goBack=()=>{this.router.navigate(["/objectives"])};ngOnDestroy=()=>{this.dataService.clearSelectedObjective(),this.logger.debugLog("Objective detail component destroyed, selected objective cleared")};static \u0275fac=function(e){return new(e||t)};static \u0275cmp=s({type:t,selectors:[["app-objective-detail"]],decls:13,vars:2,consts:[["mode","indeterminate"],[1,"objective-detail-container"],[1,"header-row"],["mat-icon-button","","aria-label","Back to objectives",3,"click"],[1,"objective-title"],[3,"selectedIndexChange"],["label","Associated Risks"],["label","Key Performance Indicators"]],template:function(e,o){e&1&&(u(0,F,1,0,"mat-progress-bar",0),a(1,"div",1)(2,"div",2)(3,"button",3),g("click",function(){return o.goBack()}),a(4,"mat-icon"),n(5,"arrow_back"),c()(),a(6,"h1",4),n(7),c()(),a(8,"mat-tab-group",5),g("selectedIndexChange",function(R){return o.onTabChange(R)}),a(9,"mat-tab",6),d(10,"app-associated-risks"),c(),a(11,"mat-tab",7),d(12,"app-performance-indicators"),c()()()),e&2&&(j(o.isLoading()?0:-1),v(7),h((o.objective==null?null:o.objective.Title)||"Loading..."))},dependencies:[E,S,L,C,O,y,_,P,x,p,b],styles:[".objective-detail-container[_ngcontent-%COMP%]{padding:20px}mat-tab-group[_ngcontent-%COMP%]{margin-top:20px}.header-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:16px}.objective-title[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:500}.tab-content[_ngcontent-%COMP%]{padding:20px}"]})};export{A as ObjectiveDetail};
