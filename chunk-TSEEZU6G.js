import{a as Ce,b as Se,c as xe}from"./chunk-CV5DGN2T.js";import{B as le,C as re,D as ce,E as me,F as de,G as se,H as pe,I as be,J as ge,K as _e,L as ve,M as fe,N as ue,O as Oe,b as J,f as q,i as U,n as K,p as Q,r as X,u as Y,v as Z,y as ee,z as te}from"./chunk-QPABRTWD.js";import{b as ne,c as ae,d as oe}from"./chunk-MCTTQI2R.js";import{S as V,U as B,V as D,ja as H,k as R,ka as F,la as N,na as $,oa as W,pa as z,qa as G,ra as ie,s as A,sa as he,t as L,ta as je}from"./chunk-FMDUR5PZ.js";import{$a as C,$b as M,Ab as _,Bb as v,Db as h,Hb as p,Ib as j,Oa as r,Wa as w,Wb as o,Y as f,Yb as g,Zb as S,_b as x,ba as u,ca as O,fb as s,na as T,ob as y,pb as k,rb as I,sb as P,tb as d,ub as t,vb as i,wb as b}from"./chunk-2KWEBWT5.js";var we=(e,n)=>n.value;function ye(e,n){if(e&1&&(t(0,"mat-option",6),o(1),i()),e&2){let l=n.$implicit;d("value",l.value),r(),g(" ",l.label," ")}}var E=class e{constructor(n){this.data=n;n&&n.preselectedDivision&&(this.orgDivision=n.preselectedDivision)}dialogRef=f(H);title="";description="";orgDivision="";divisions=[{value:"IT",label:"IT Division"},{value:"OP",label:"Operations Division"},{value:"HR",label:"Human Resources Division"},{value:"LG",label:"Logistics Division"},{value:"FN",label:"Finance Division"}];onCancel=()=>{this.dialogRef.close()};onSave=()=>{this.title&&this.orgDivision&&this.dialogRef.close({title:this.title,description:this.description,orgDivision:this.orgDivision})};isValid=()=>this.title.length>0&&this.orgDivision.length>0;static \u0275fac=function(l){return new(l||e)(w(F))};static \u0275cmp=C({type:e,selectors:[["app-add-objective-dialog"]],decls:23,vars:4,consts:[["mat-dialog-title",""],[1,"form-container"],["appearance","outline"],["matInput","","placeholder","Enter objective title","required","",3,"ngModelChange","ngModel"],["matInput","","placeholder","Enter objective description","rows","4",3,"ngModelChange","ngModel"],["required","",3,"ngModelChange","ngModel"],[3,"value"],["align","end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click","disabled"]],template:function(l,a){l&1&&(t(0,"h2",0),o(1,"Add New Objective"),i(),t(2,"mat-dialog-content")(3,"div",1)(4,"mat-form-field",2)(5,"mat-label"),o(6,"Title"),i(),t(7,"input",3),M("ngModelChange",function(m){return x(a.title,m)||(a.title=m),m}),i()(),t(8,"mat-form-field",2)(9,"mat-label"),o(10,"Description"),i(),t(11,"textarea",4),M("ngModelChange",function(m){return x(a.description,m)||(a.description=m),m}),i()(),t(12,"mat-form-field",2)(13,"mat-label"),o(14,"Division"),i(),t(15,"mat-select",5),M("ngModelChange",function(m){return x(a.orgDivision,m)||(a.orgDivision=m),m}),I(16,ye,2,2,"mat-option",6,we),i()()()(),t(18,"mat-dialog-actions",7)(19,"button",8),p("click",function(){return a.onCancel()}),o(20,"Cancel"),i(),t(21,"button",9),p("click",function(){return a.onSave()}),o(22," Save "),i()()),l&2&&(r(7),S("ngModel",a.title),r(4),S("ngModel",a.description),r(4),S("ngModel",a.orgDivision),r(),P(a.divisions),r(5),d("disabled",!a.isValid()))},dependencies:[G,$,z,W,Z,Y,X,te,ee,xe,Se,Ce,D,B,Q,J,q,K,U],styles:[".form-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;min-width:400px;padding:16px 0}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-dialog-content[_ngcontent-%COMP%]{padding:0 24px}mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;margin:0}"]})};function ke(e,n){e&1&&b(0,"mat-progress-bar",0)}function Ie(e,n){e&1&&(t(0,"th",24),o(1," ID "),i())}function Pe(e,n){if(e&1&&(t(0,"td",25),o(1),i()),e&2){let l=n.$implicit;r(),g(" ",l.Id," ")}}function Re(e,n){e&1&&(t(0,"th",24),o(1," Title "),i())}function Ae(e,n){if(e&1&&(t(0,"td",25),o(1),i()),e&2){let l=n.$implicit;r(),g(" ",l.Title," ")}}function Le(e,n){e&1&&b(0,"tr",26)}function Ve(e,n){if(e&1){let l=h();t(0,"tr",27),p("click",function(){let c=u(l).$implicit,m=j();return O(m.onObjectiveRowClick(c))}),i()}}function Be(e,n){e&1&&(t(0,"th",24),o(1," ID "),i())}function He(e,n){if(e&1&&(t(0,"td",25),o(1),i()),e&2){let l=n.$implicit;r(),g(" ",l.Id," ")}}function Fe(e,n){e&1&&(t(0,"th",24),o(1," Title "),i())}function Ne(e,n){if(e&1&&(t(0,"td",25),o(1),i()),e&2){let l=n.$implicit;r(),g(" ",l.Title," ")}}function $e(e,n){e&1&&b(0,"tr",26)}function We(e,n){if(e&1){let l=h();t(0,"tr",27),p("click",function(){let c=u(l).$implicit,m=j();return O(m.onObjectiveRowClick(c))}),i()}}function ze(e,n){e&1&&(t(0,"th",24),o(1," ID "),i())}function Ge(e,n){if(e&1&&(t(0,"td",25),o(1),i()),e&2){let l=n.$implicit;r(),g(" ",l.Id," ")}}function Je(e,n){e&1&&(t(0,"th",24),o(1," Title "),i())}function qe(e,n){if(e&1&&(t(0,"td",25),o(1),i()),e&2){let l=n.$implicit;r(),g(" ",l.Title," ")}}function Ue(e,n){e&1&&b(0,"tr",26)}function Ke(e,n){if(e&1){let l=h();t(0,"tr",27),p("click",function(){let c=u(l).$implicit,m=j();return O(m.onObjectiveRowClick(c))}),i()}}function Qe(e,n){e&1&&(t(0,"th",24),o(1," ID "),i())}function Xe(e,n){if(e&1&&(t(0,"td",25),o(1),i()),e&2){let l=n.$implicit;r(),g(" ",l.Id," ")}}function Ye(e,n){e&1&&(t(0,"th",24),o(1," Title "),i())}function Ze(e,n){if(e&1&&(t(0,"td",25),o(1),i()),e&2){let l=n.$implicit;r(),g(" ",l.Title," ")}}function et(e,n){e&1&&b(0,"tr",26)}function tt(e,n){if(e&1){let l=h();t(0,"tr",27),p("click",function(){let c=u(l).$implicit,m=j();return O(m.onObjectiveRowClick(c))}),i()}}function it(e,n){e&1&&(t(0,"th",24),o(1," ID "),i())}function nt(e,n){if(e&1&&(t(0,"td",25),o(1),i()),e&2){let l=n.$implicit;r(),g(" ",l.Id," ")}}function at(e,n){e&1&&(t(0,"th",24),o(1," Title "),i())}function ot(e,n){if(e&1&&(t(0,"td",25),o(1),i()),e&2){let l=n.$implicit;r(),g(" ",l.Title," ")}}function lt(e,n){e&1&&b(0,"tr",26)}function rt(e,n){if(e&1){let l=h();t(0,"tr",27),p("click",function(){let c=u(l).$implicit,m=j();return O(m.onObjectiveRowClick(c))}),i()}}var Me=class e{logger=f(ie);router=f(R);dialog=f(N);dataService=f(ne);isLoading=T(!1,{});itObjectives=[];operationsObjectives=[];hrObjectives=[];logisticsObjectives=[];financeObjectives=[];displayedColumns=["Id","Title"];async ngOnInit(){this.logger.debugLog("Objectives component initialized"),this.logger.debugLog("Loading objectives data...",{timestamp:new Date}),this.isLoading.set(!0);try{await this.dataService.initializeCache(),this.filterObjectivesByDivision()}catch(n){this.logger.debugLog("Failed to initialize data cache",n)}finally{this.isLoading.set(!1)}}filterObjectivesByDivision=()=>{let n=this.dataService.objectives();this.itObjectives=[],this.operationsObjectives=[],this.hrObjectives=[],this.logisticsObjectives=[],this.financeObjectives=[];for(let l=0;l<n.length;l++){let a=n[l];a.OrgDivision==="IT"?this.itObjectives.push(a):a.OrgDivision==="OP"?this.operationsObjectives.push(a):a.OrgDivision==="HR"?this.hrObjectives.push(a):a.OrgDivision==="LG"?this.logisticsObjectives.push(a):a.OrgDivision==="FN"&&this.financeObjectives.push(a)}this.logger.debugLog("Objectives filtered by division",{IT:this.itObjectives.length,OP:this.operationsObjectives.length,HR:this.hrObjectives.length,LG:this.logisticsObjectives.length,FN:this.financeObjectives.length})};openAddObjectiveDialog=n=>{this.logger.debugLog("Opening add objective dialog",{preselectedDivision:n}),this.dialog.open(E,{width:"600px",maxWidth:"90vw",disableClose:!1,hasBackdrop:!0,data:{preselectedDivision:n||""}}).afterClosed().subscribe(async a=>{if(a){this.logger.debugLog("Dialog closed with data",a);try{this.isLoading.set(!0);let c=await this.dataService.addObjective({Title:a.title,Description:a.description,OrgDivision:a.orgDivision});this.logger.debugLog("Objective saved successfully",c),this.filterObjectivesByDivision()}catch(c){this.logger.debugLog("Failed to save objective",c)}finally{this.isLoading.set(!1)}}else this.logger.debugLog("Dialog cancelled")})};onObjectiveRowClick=n=>{this.logger.debugLog("Objective row clicked",{objectiveId:n.Id,objectiveTitle:n.Title}),this.router.navigate(["/objectives",n.Id])};goBack=()=>{this.logger.debugLog("Navigating back to home"),this.router.navigate(["/"])};static \u0275fac=function(l){return new(l||e)};static \u0275cmp=C({type:e,selectors:[["app-objectives"]],decls:144,vars:16,consts:[["mode","indeterminate"],[1,"objectives-container"],[1,"header-row"],["mat-icon-button","","aria-label","Back to home",3,"click"],[1,"page-title"],[1,"cards-grid"],[1,"objective-card"],["color","primary"],[1,"spacer"],["mat-icon-button","","aria-label","Add IT objective",3,"click"],["mat-icon-button","","aria-label","Search"],["mat-icon-button","","aria-label","More options"],["mat-table","",1,"mat-elevation-z0","striped-table",3,"dataSource"],["matColumnDef","Id"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Title"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","clickable-row",3,"click",4,"matRowDef","matRowDefColumns"],["mat-icon-button","","aria-label","Add Operations objective",3,"click"],["mat-icon-button","","aria-label","Add HR objective",3,"click"],["mat-icon-button","","aria-label","Add Logistics objective",3,"click"],["mat-icon-button","","aria-label","Add Finance objective",3,"click"],["mat-icon-button","","aria-label","Add"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",1,"clickable-row",3,"click"]],template:function(l,a){l&1&&(y(0,ke,1,0,"mat-progress-bar",0),t(1,"div",1)(2,"div",2)(3,"button",3),p("click",function(){return a.goBack()}),t(4,"mat-icon"),o(5,"arrow_back"),i()(),t(6,"h1",4),o(7,"Objectives"),i()(),t(8,"div",5)(9,"mat-card",6)(10,"mat-toolbar",7)(11,"span"),o(12,"IT OBJECTIVES"),i(),b(13,"span",8),t(14,"button",9),p("click",function(){return a.openAddObjectiveDialog("IT")}),t(15,"mat-icon"),o(16,"add"),i()(),t(17,"button",10)(18,"mat-icon"),o(19,"search"),i()(),t(20,"button",11)(21,"mat-icon"),o(22,"more_vert"),i()()(),t(23,"mat-card-content")(24,"table",12),_(25,13),s(26,Ie,2,0,"th",14)(27,Pe,2,1,"td",15),v(),_(28,16),s(29,Re,2,0,"th",14)(30,Ae,2,1,"td",15),v(),s(31,Le,1,0,"tr",17)(32,Ve,1,0,"tr",18),i()()(),t(33,"mat-card",6)(34,"mat-toolbar",7)(35,"span"),o(36,"OPERATIONS OBJECTIVES"),i(),b(37,"span",8),t(38,"button",19),p("click",function(){return a.openAddObjectiveDialog("OP")}),t(39,"mat-icon"),o(40,"add"),i()(),t(41,"button",10)(42,"mat-icon"),o(43,"search"),i()(),t(44,"button",11)(45,"mat-icon"),o(46,"more_vert"),i()()(),t(47,"mat-card-content")(48,"table",12),_(49,13),s(50,Be,2,0,"th",14)(51,He,2,1,"td",15),v(),_(52,16),s(53,Fe,2,0,"th",14)(54,Ne,2,1,"td",15),v(),s(55,$e,1,0,"tr",17)(56,We,1,0,"tr",18),i()()(),t(57,"mat-card",6)(58,"mat-toolbar",7)(59,"span"),o(60,"HR OBJECTIVES"),i(),b(61,"span",8),t(62,"button",20),p("click",function(){return a.openAddObjectiveDialog("HR")}),t(63,"mat-icon"),o(64,"add"),i()(),t(65,"button",10)(66,"mat-icon"),o(67,"search"),i()(),t(68,"button",11)(69,"mat-icon"),o(70,"more_vert"),i()()(),t(71,"mat-card-content")(72,"table",12),_(73,13),s(74,ze,2,0,"th",14)(75,Ge,2,1,"td",15),v(),_(76,16),s(77,Je,2,0,"th",14)(78,qe,2,1,"td",15),v(),s(79,Ue,1,0,"tr",17)(80,Ke,1,0,"tr",18),i()()(),t(81,"mat-card",6)(82,"mat-toolbar",7)(83,"span"),o(84,"LOGISTICS OBJECTIVES"),i(),b(85,"span",8),t(86,"button",21),p("click",function(){return a.openAddObjectiveDialog("LG")}),t(87,"mat-icon"),o(88,"add"),i()(),t(89,"button",10)(90,"mat-icon"),o(91,"search"),i()(),t(92,"button",11)(93,"mat-icon"),o(94,"more_vert"),i()()(),t(95,"mat-card-content")(96,"table",12),_(97,13),s(98,Qe,2,0,"th",14)(99,Xe,2,1,"td",15),v(),_(100,16),s(101,Ye,2,0,"th",14)(102,Ze,2,1,"td",15),v(),s(103,et,1,0,"tr",17)(104,tt,1,0,"tr",18),i()()(),t(105,"mat-card",6)(106,"mat-toolbar",7)(107,"span"),o(108,"FINANCE OBJECTIVES"),i(),b(109,"span",8),t(110,"button",22),p("click",function(){return a.openAddObjectiveDialog("FN")}),t(111,"mat-icon"),o(112,"add"),i()(),t(113,"button",10)(114,"mat-icon"),o(115,"search"),i()(),t(116,"button",11)(117,"mat-icon"),o(118,"more_vert"),i()()(),t(119,"mat-card-content")(120,"table",12),_(121,13),s(122,it,2,0,"th",14)(123,nt,2,1,"td",15),v(),_(124,16),s(125,at,2,0,"th",14)(126,ot,2,1,"td",15),v(),s(127,lt,1,0,"tr",17)(128,rt,1,0,"tr",18),i()()(),t(129,"mat-card",6)(130,"mat-toolbar",7)(131,"span"),o(132,"HELP MANUAL"),i(),b(133,"span",8),t(134,"button",23)(135,"mat-icon"),o(136,"add"),i()(),t(137,"button",10)(138,"mat-icon"),o(139,"search"),i()(),t(140,"button",11)(141,"mat-icon"),o(142,"more_vert"),i()()(),b(143,"mat-card-content"),i()()()),l&2&&(k(a.isLoading()?0:-1),r(24),d("dataSource",a.itObjectives),r(7),d("matHeaderRowDef",a.displayedColumns),r(),d("matRowDefColumns",a.displayedColumns),r(16),d("dataSource",a.operationsObjectives),r(7),d("matHeaderRowDef",a.displayedColumns),r(),d("matRowDefColumns",a.displayedColumns),r(16),d("dataSource",a.hrObjectives),r(7),d("matHeaderRowDef",a.displayedColumns),r(),d("matRowDefColumns",a.displayedColumns),r(16),d("dataSource",a.logisticsObjectives),r(7),d("matHeaderRowDef",a.displayedColumns),r(),d("matRowDefColumns",a.displayedColumns),r(16),d("dataSource",a.financeObjectives),r(7),d("matHeaderRowDef",a.displayedColumns),r(),d("matRowDefColumns",a.displayedColumns))},dependencies:[Oe,fe,ue,je,he,L,A,D,V,oe,ae,ve,le,ce,pe,me,re,be,de,se,ge,_e],styles:[".objectives-container[_ngcontent-%COMP%]{padding:20px}.header-row[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:16px}.page-title[_ngcontent-%COMP%]{margin:0;font-size:24px;font-weight:500}.cards-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:20px;margin-top:20px}.objective-card[_ngcontent-%COMP%]{padding:0;box-shadow:0 5px 5px -3px #0003,0 8px 10px 1px #00000024,0 3px 14px 2px #0000001f}mat-toolbar[_ngcontent-%COMP%]{height:48px;font-size:14px;font-weight:500}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}mat-card-content[_ngcontent-%COMP%]{padding:0!important}.objective-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]:has(table){padding:16px!important}.objective-card[_ngcontent-%COMP%]:last-child   mat-card-content[_ngcontent-%COMP%]{min-height:200px;background-color:#f5f5f5;padding:0!important}table[_ngcontent-%COMP%], .striped-table[_ngcontent-%COMP%]{width:100%}.striped-table[_ngcontent-%COMP%]   tr.mat-mdc-row[_ngcontent-%COMP%]:nth-child(2n){background-color:#f5f5f5}.striped-table[_ngcontent-%COMP%]   tr.mat-mdc-row[_ngcontent-%COMP%]:nth-child(odd){background-color:#fff}.clickable-row[_ngcontent-%COMP%]{cursor:pointer;transition:background-color .2s ease}.clickable-row[_ngcontent-%COMP%]:hover{background-color:#e3f2fd!important}.mat-mdc-header-row[_ngcontent-%COMP%]{background-color:#fafafa}.mat-mdc-header-cell[_ngcontent-%COMP%]{font-weight:600;color:#333}.mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-header-cell[_ngcontent-%COMP%]{padding:12px 16px}"]})};export{Me as Objectives};
